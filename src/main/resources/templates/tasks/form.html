<!DOCTYPE html>
<html lang="ja" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title th:text="${mode == 'CREATE'} ? 'タスク作成' : 'タスク編集'"></title>
    <link rel="stylesheet" th:href="@{/webjars/bootstrap/5.3.2/css/bootstrap.min.css}">
</head>
<body>
<section>
    <div>
        <form th:action="${mode == 'CREATE'} ? @{/tasks?page={page}(page=${param.page})}
                                             : @{/tasks/{id}?page={page}(id=${id}, page=${param.page})}"
              th:method="${mode == 'CREATE'} ? post : put"
              th:object="${taskForm}">
          <div class="mt-3 ms-3">
              <label for="summaryInput">概要</label>
              <input type="text" id="summaryInput" th:field="*{summary}"> <!-- th:field -> name + value -->
              <span th:errors="*{summary}"></span>
          </div>
          <div class="mt-3 ms-3">
              <label for="descriptionInput">詳細</label>
              <textarea id="descriptionInput" th:field="*{description}"></textarea>
              <span th:errors="*{description}"></span>
          </div>
          <div class="mt-3 ms-3">
              <label for="statusInput">ステータス</label>
              <select id="statusInput" th:field="*{status}">
                  <option value="TODO">Todo</option>
                  <option value="DOING">Doing</option>
                  <option value="DONE">Done</option>
              </select>
              <span th:errors="*{status}"></span>
          </div>
          <div class="mt-3 ms-3">
              <button type="submit" class="btn btn-secondary" th:text="${mode == 'CREATE'} ? '作成' : '編集'"></button>
              <a th:href="${mode == 'CREATE'} ? @{/tasks?page={page}(page=${param.page})}
                                              : @{/tasks/{id}?page={page}(id=${id}, page=${param.page})}"
                 class="btn btn-secondary">戻る</a>
          </div>
        </form>
    </div>
</section>
</body>
</html>